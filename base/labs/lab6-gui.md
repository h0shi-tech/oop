
# Лабораторная работа № 6 <!-- omit in toc -->
# Графический интерфейс пользователя <!-- omit in toc -->

- [1 Подключение фреймворка](#1-подключение-фреймворка)
  - [Шаг 1. Подготовка пустого проекта](#шаг-1-подготовка-пустого-проекта)
  - [Шаг 2. Установка Qt](#шаг-2-установка-qt)
  - [Шаг 3. Запуск пустого проекта](#шаг-3-запуск-пустого-проекта)
- [2 Задание на лабораторную работу](#2-задание-на-лабораторную-работу)
  - [Вариант А](#вариант-а)
  - [Вариант Б](#вариант-б)



# 1 Подключение фреймворка

- Официальный сайт: https://www.qt.io/
- Документация по Qt Widgets: https://doc.qt.io/qt-6/qtwidgets-index.html

## Шаг 1. Подготовка пустого проекта

- `CMakeLists.txt`
  ```cmake
  cmake_minimum_required(VERSION 3.5)

  project(lab6 CXX)

  find_package(Qt6 COMPONENTS Core Gui Widgets REQUIRED)

  set(CMAKE_AUTOMOC ON)

  add_executable(${PROJECT_NAME} main.cpp)

  target_link_libraries(${PROJECT_NAME} Qt6::Core Qt6::Gui Qt6::Widgets)

  if(WIN32)
    add_custom_command(
      TARGET ${PROJECT_NAME} POST_BUILD
      COMMAND ${Qt6_DIR}/../../tools/Qt6/bin/windeployqt $<TARGET_FILE:${PROJECT_NAME}>
    )

    # Раскомментируйте, чтобы убрать консоль
    #set_property(TARGET ${PROJECT_NAME} PROPERTY WIN32_EXECUTABLE TRUE)
  endif(WIN32)
  ```

- `main.cpp`
  ```cpp
  #include <QApplication>
  #include <QWidget>

  int main(int argc, char* argv[]) {
    QApplication app(argc, argv);

    QWidget widget;
    widget.show();

    return QApplication::exec();
  }
  ```

## Шаг 2. Установка Qt

### Linux <!-- omit in toc -->

С помощью пакетного менеджера установите пакет разработчика Qt 6.
Например, на Debian:
```
sudo apt install qt6-base-dev
```

### Windows <!-- omit in toc -->

1. Установите [vcpkg](https://github.com/microsoft/vcpkg) и Qt 6.
   ```
   git clone https://github.com/microsoft/vcpkg
   cd vcpkg
   bootstrap-vcpkg.bat -disableMetrics
   vcpkg install qtbase
   ```
   Последний шаг потребует много времени. Дождитесь его завершения.

2. Настройте CMake для работы с vcpkg.
   - Откройте подготовленный на первом шаге проект в Visual Studio.
   - Выберите пункт меню `Project` → `CMake Settings`.
   - Добавьте конфигурацию `x64-Release` и удалите существующую конфигурацию `x64-Debug`.
   - Найдите опцию `CMake toolchain file` и в качестве значения укажите путь:
     ```
     [vcpkg]/scripts/buildsystems/vcpkg.cmake
     ```
     где [vcpkg] - директория, в которую был склонирован и установлен vcpkg.

## Шаг 3. Запуск пустого проекта

Попробуйте собрать и запустить CMake-проект, подготовленный на первом шаге.
Если всё сделано верно, должно появиться пустое окно.



# 2 Задание на лабораторную работу

Данная лабораторная работа оценивается максимум в 5 факультативных баллов.

На выбор доступно два варианта (А или Б).

## Вариант А

Разработайте GUI-приложение на Qt 6 для редактирования списка объектов
из вашей **4-ой лабораторной работы** (иерархия классов).

- **Основное окно**
  - Должен отображаться список отображаемых объектов (см. [QListWidget](https://doc.qt.io/qt-6/qlistwidget.html)).
    Каждый объект отображается в виде некоторого строкого представления.
  - Должна быть кнопка "Add" для добавления нового объекта.
    - При нажатии на кнопк удолжно появляться окно выбора типа создаваемого объекта.
  - Должна быть кнопка "Remove" для удаления выделенного объекта из списка.
    - Если выделенного объекта нет, кнопка должна быть выключенной.
    - При нажатии на кнопку должно появляться диалоговое окно с подтверждением удаления
      ([QMessageBox](https://doc.qt.io/qt-6/qmessagebox.html)).
  - Должна быть кнопка "Move Up" для перемещения выбранного объекта в списке на одну позицию вверх.
    - Если выделенного объекта нет или выделен самый первый объект в списке, кнопка должна быть выключенной.
  - Должна быть кнопка "Move Down" для перемещения выбранного объекта в списке на одну позицию вниз.
    - Если выделенного объекта нет или выделен самый последний объект в списке, кнопка должна быть выключенной.
- **Окно выбора типа создаваемого объекта**
  - Должны отображаться все неабстрактные типы иерархии в виде [QRadioButton](https://doc.qt.io/qt-6/qradiobutton.html).
  - Должна быть кнопка "Next".
    - При нажатии на кнопку окно выбора типа закрывается и появляется окно создания
      объекта конкретного типа иерархии.
  - Должна быть кнопка "Cancel".
    - При нажатии на кнопку окно закрывается и дальше ничего не происходит.
- **Окно создания объекта конкретного типа иерархии**
  - Должно выглядеть индивидуально (при необходимости) для каждого типа иерархии.
    - Допускается использовать один наследник `QWidget`,
      внешний вид которого настраивается в зависимости от параметра конструктора.
  - Должна быть кнопка "Create".
    - При нажатии на кнопку должна происходить валидация всех полей.
      - Если ошибок нет, должен создаваться новый объект указанного типа и добавляться в список в основном окне.
      - Если есть ошибки, должно появляться диалоговое окно с описанием ошибок.
  - Должна быть кнопка "Cancel".
    - При нажатии на кнопку окно закрывается и дальше ничего не происходит.



## Вариант Б

Допустимо разработать GUI-приложение на произвольную тему **при обязательном предварительном согласовании**
темы и минимального функционала приложения с преподавателем, который ведёт у вас лабораторные работы.

Опционально, **при дополнительном согласовании** с лектором и
дополнительной отсылке выполненной работы лектору в установленные сроки, данный вариант
может одновременно засчитываться и как 9-ая факультативная задача (проект на свободную тему).
